<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/src/styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Veil ‚Äî Daily Horoscope</title>
    <script type="module" src="/src/main.ts" defer></script>
  </head>

  <body>
    <canvas id="starfield" aria-hidden="true"></canvas>
    <div id="app" class="app" aria-live="polite">
      <header class="app__header">
        <p class="app__eyebrow">Veil</p>
        <h1 class="app__title">A gentle mirror for your day</h1>
        <p class="app__subtitle">
          A daily reading crafted offline, with calm guidance and luminous
          perspective.
        </p>
        <button
          class="debug-toggle"
          id="debug-toggle"
          type="button"
          aria-pressed="false"
          aria-label="Toggle Veil debug overlay"
          title="Toggle Veil debug overlay"
        >
          <span class="debug-toggle__icon" aria-hidden="true">üêû</span>
        </button>
      </header>

      <main class="app__main">
        <section class="card-stage" aria-live="polite">
          <div class="card-shell" id="card-shell" data-route="welcome">
            <div
              id="welcome-view"
              class="view is-mounted is-active"
              aria-labelledby="welcome-title"
            >
              <div class="glass-card glass-card--welcome">
                <div class="glass-card__glow"></div>
                <h2 id="welcome-title">Meet the stars</h2>
                <p class="muted">
                  Share a few details and we will pull together a message that feels
                  true to you.
                </p>

                <form id="profile-form" class="form" novalidate>
                  <label class="field">
                    <span>Name</span>
                    <input
                      type="text"
                      name="name"
                      id="name-input"
                      placeholder="Your name"
                      autocomplete="name"
                    />
                    <span class="field__error" data-error-for="name"></span>
                  </label>

                  <label class="field">
                    <span>Birthdate</span>
                    <input
                      type="date"
                      name="birthdate"
                      id="birthdate-input"
                      autocomplete="bday"
                    />
                    <span class="field__error" data-error-for="birthdate"></span>
                  </label>

                  <label class="field">
                    <span>Current mood</span>
                    <select name="mood" id="mood-input"></select>
                    <span class="field__error" data-error-for="mood"></span>
                  </label>

                  <label class="field">
                    <span>Personality</span>
                    <select name="personality" id="personality-input"></select>
                    <span class="field__error" data-error-for="personality"></span>
                  </label>

                  <div class="model-status" id="model-status">
                    <div class="model-status__icon"></div>
                    <div>
                      <p class="model-status__label">Consulting the constellations‚Ä¶</p>
                      <div class="progress">
                        <div class="progress__bar" id="model-progress"></div>
                      </div>
                    </div>
                  </div>

                  <button class="primary-button" type="submit" id="reveal-reading">
                    Reveal my reading
                    <span class="button-shimmer"></span>
                  </button>
                </form>
              </div>
            </div>

            <div
              id="reading-view"
              class="view"
              aria-labelledby="reading-title"
              aria-hidden="true"
            >
              <div class="glass-card glass-card--reading">
                <div class="glass-card__glow"></div>
                <header class="reading__header">
                  <p class="reading__date" id="reading-date"></p>
                  <h2 id="reading-title">Your message for today</h2>
                  <p class="reading__title" id="reading-title-text"></p>
                  <p class="reading__sub" id="reading-subtitle"></p>
                </header>

                <div class="reading__return">
                  <div>
                    <p class="reading__return-title">Need a new reflection?</p>
                    <p class="reading__return-sub">Update your details and ask again.</p>
                  </div>
                  <button class="ghost-button" id="edit-profile">Back to details</button>
                </div>

                <div class="reading__body" id="reading-body">
                  <div class="reading__stream">
                    <p class="reading__message"></p>
                  </div>
                  <div class="reading__themes">
                    <h3>Themes to notice</h3>
                    <ul id="reading-themes"></ul>
                  </div>
                  <div class="reading__meta">
                    <div>
                      <h4>Affirmation</h4>
                      <p id="reading-affirmation"></p>
                    </div>
                    <div>
                      <h4>Lucky color</h4>
                      <p id="reading-color"></p>
                    </div>
                    <div>
                      <h4>Lucky number</h4>
                      <p id="reading-number"></p>
                    </div>
                  </div>
                </div>

                <div class="reading__loading" id="reading-loading" hidden>
                  <div class="spinner"></div>
                  <p>Weaving your message‚Ä¶</p>
                  <p class="reading__stream-text" id="reading-stream"></p>
                </div>

                <div class="reading__actions">
                  <button class="primary-button" id="regenerate">
                    Ask the stars again
                    <span class="button-shimmer"></span>
                  </button>
                  <button class="ghost-button" id="copy-reading">Copy to clipboard</button>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer class="app__footer">
        <p>For reflection and entertainment. Your intuition matters most.</p>
      </footer>
    </div>

    <div class="app-loading" id="app-loading" aria-live="polite">
      <div class="app-loading__card">
        <p class="app-loading__eyebrow">Veil</p>
        <h1 class="app-loading__title">Weaving your stars</h1>
        <p class="app-loading__status" id="app-loading-status">
          Preparing the star map‚Ä¶
        </p>
        <div class="app-loading__progress">
          <div class="app-loading__bar" id="app-loading-progress"></div>
        </div>
      </div>
    </div>
  </body>
</html>
